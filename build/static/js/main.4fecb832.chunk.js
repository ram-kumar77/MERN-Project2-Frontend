(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{220:function(e,t,s){},265:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),l=s(40),r=s.n(l),n=(s(220),s(46)),o=s(52),i=s(39),d=s(54),b=s.n(d),m=s(56);s(167);const j=e=>{m.a.success(e)},u=e=>{m.a.error(e)},x=()=>async e=>{e({type:"LOADING",payload:!0});try{const t=await b.a.get("${baseURL}/api/cars/cars");console.log("Fetched cars:",t.data),e({type:"GET_ALL_CARS",payload:t.data}),e({type:"LOADING",payload:!1})}catch(t){console.error("Error fetching cars:",t),e({type:"LOADING",payload:!1}),e({type:"ERROR",payload:t.message})}};var h=s(71),p=s(80),O=s(200),g=s(3);var y=function(e){const[t,s]=Object(a.useState)(!1),c=Object(a.useRef)(null),l=Object(n.g)(),[r,o]=Object(a.useState)(JSON.parse(localStorage.getItem("user"))||null);Object(a.useEffect)((()=>{if(r){const e=window.location.pathname;"/"===e?r.isAdmin&&l.push("/admin"):"/admin"!==e||r.isAdmin||l.push("/")}}),[r,l]),Object(a.useEffect)((()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const i=e=>{s(!1),l.push(e)};return r?Object(g.jsxs)("div",{className:"min-h-screen",children:[Object(g.jsx)("div",{className:"navbar bg-gray-800 p-4 relative z-50",children:Object(g.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[(null===r||void 0===r?void 0:r.isAdmin)&&Object(g.jsx)("button",{onClick:()=>l.goBack(),className:"text-white mr-4 hover:text-gray-300",children:Object(g.jsx)(h.a,{icon:p.a})}),Object(g.jsxs)("button",{onClick:()=>{null!==r&&void 0!==r&&r.isAdmin?l.push("/admin"):l.push("/")},className:"logo text-white text-3xl text-bold  flex items-center",children:[Object(g.jsx)(h.a,{icon:p.e,className:"mr-2"}),Object(g.jsx)("span",{children:null!==r&&void 0!==r&&r.isAdmin?"Admin Panel":"Carzz"})]})]}),Object(g.jsxs)("div",{className:"navItems relative",ref:c,children:[Object(g.jsxs)("button",{className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors focus:outline-none",onClick:()=>{s((e=>!e))},children:[Object(g.jsx)(h.a,{icon:O.a,className:"text-lg"}),Object(g.jsx)("span",{children:(null===r||void 0===r?void 0:r.username)||"User"}),Object(g.jsx)(h.a,{icon:p.h,className:"transition-transform duration-200 "+(t?"rotate-180":"")})]}),t&&Object(g.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg overflow-hidden",style:{zIndex:1e3},children:[Object(g.jsx)("button",{onClick:()=>i(null!==r&&void 0!==r&&r.isAdmin?"/admin":"/"),className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors",children:null!==r&&void 0!==r&&r.isAdmin?"Dashboard":"Home"}),!(null!==r&&void 0!==r&&r.isAdmin)&&Object(g.jsx)("button",{onClick:()=>i("/userbookings"),className:"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors",children:"My Bookings"}),Object(g.jsx)("hr",{className:"my-1 border-gray-200"}),Object(g.jsx)("button",{onClick:()=>{try{localStorage.removeItem("user"),o(null),s(!1),window.location.href="/login"}catch(e){console.error("Logout error:",e),l.push("/login")}},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 transition-colors",children:"Logout"})]})]})]})}),Object(g.jsx)("div",{className:"content p-4",children:e.children})]}):Object(g.jsx)(n.a,{to:"/login"})},f=s(201),v=s(142),N=s(122);var w=()=>Object(g.jsxs)("section",{className:"about-wrapper bg-blue-50 py-10",children:[Object(g.jsx)("div",{className:"about-linecontainer",children:Object(g.jsx)("div",{className:"about-line"})}),Object(g.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center p-8",children:[Object(g.jsx)("div",{className:"flex justify-center mb-8",children:Object(g.jsx)("img",{src:"https://www.shutterstock.com/image-photo/man-handing-car-smart-key-600nw-2466586367.jpg",alt:"Vehicle Rental",className:"rounded-xl dark:transition dark:grayscale hover:grayscale-0 hover:shadow-2xl"})}),Object(g.jsxs)("div",{className:"about-right flex flex-col justify-center md:w-1/2",children:[Object(g.jsxs)("div",{className:"about-left flex items-center mb-6 md:mb-0",children:[Object(g.jsx)(N.a,{className:"text-6xl text-[#846330] mr-4"}),Object(g.jsx)("h1",{className:"font-semibold text-[#846330] text-2xl md:text-3xl",children:"About carzz Vehicle Rental"})]}),Object(g.jsx)("p",{className:"text-[#846330] text-lg mb-4",children:"At carzz Vehicle Rental, we provide a variety of vehicles for all your transportation needs. Whether it's for business trips, family vacations, or special events, we strive to ensure a seamless and enjoyable rental experience. Established in 2010, we have built a reputation for excellent service and customer satisfaction, offering a fleet of well-maintained vehicles at competitive rates. Our dedicated team is here to assist you every step of the way, ensuring that your journey is safe, comfortable, and memorable."}),Object(g.jsxs)("div",{className:"about-bottom flex md:flex-row justify-between mt-4",children:[Object(g.jsxs)("div",{className:"experience text-center",children:[Object(g.jsx)("h1",{className:"p-2 text-5xl text-[#846330]",children:"12+"}),Object(g.jsx)("p",{className:"text-lg text-gray-700",children:"Years of Experience"})]}),Object(g.jsxs)("div",{className:"contact flex items-center",children:[Object(g.jsx)(N.c,{className:"text-2xl p-4 text-[#846330]"}),Object(g.jsxs)("p",{className:"text-lg text-gray-700",children:["Call Us ",Object(g.jsx)("br",{}),Object(g.jsx)("b",{className:"font-medium",children:"+91 00000 00000"})]})]})]})]})]})]});var S=function(){return Object(g.jsx)("div",{className:"spinner flex justify-center items-center min-h-screen",children:Object(g.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})})};var A=()=>Object(g.jsx)("footer",{className:"bg-gray-800 text-white py-6",children:Object(g.jsx)("div",{className:"container mx-auto text-center",children:Object(g.jsxs)("p",{className:"text-sm",children:["\xa9 ",(new Date).getFullYear()," Vehicle Rental. All rights reserved."]})})});var k=function(){const e=Object(i.b)(),t=Object(n.g)(),{cars:s,loading:c}=Object(i.c)((e=>e.carsReducer)),[l,r]=Object(a.useState)(""),[d,b]=Object(a.useState)([]),[m,j]=Object(a.useState)(!1),[u,O]=Object(a.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),[N,k]=Object(a.useState)(!1),[C,_]=Object(a.useState)({adult:1,children:0,rooms:1});Object(a.useEffect)((()=>{e(x())}),[e]),Object(a.useEffect)((()=>{s&&s.length>0&&(b(s),console.log("Filtered cars:",s))}),[s]);const E=e=>{const t=e.target.value.toLowerCase();r(t);let a=s;t&&(a=a.filter((e=>e.category.toLowerCase().includes(t)||e.vehicles.some((e=>{var s;return e.name.toLowerCase().includes(t)||(null===(s=e.brand)||void 0===s?void 0:s.toLowerCase().includes(t))})))));const c=u[0].startDate,l=u[0].endDate;a=a.filter((e=>e.vehicles.some((e=>{var t;return!(null!==(t=e.bookedTimeSlots)&&void 0!==t&&t.some((e=>{const t=new Date(e.from),s=new Date(e.to);return c<=s&&l>=t})))})))),console.log("Filtering cars:",a),b(a)},R=(e,t)=>{_((s=>({...s,[e]:"i"===t?s[e]+1:s[e]-1})))};return Object(g.jsxs)(y,{children:[Object(g.jsx)("div",{className:"bg-blue-800 text-white flex justify-center relative",children:Object(g.jsxs)("div",{className:"w-full max-w-7xl my-5 mb-24",children:[Object(g.jsxs)("div",{className:"flex gap-10 mb-12",children:[Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)(h.a,{icon:p.e}),Object(g.jsx)("span",{children:"Sedan"})]}),Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)(h.a,{icon:p.g}),Object(g.jsx)("span",{children:"SUV"})]}),Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)(h.a,{icon:p.f}),Object(g.jsx)("span",{children:"Luxury"})]}),Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)(h.a,{icon:p.c}),Object(g.jsx)("span",{children:"MUV"})]})]}),Object(g.jsx)("h1",{className:"text-8xl font-bold mb-2",children:"Book your Car now!"}),Object(g.jsxs)("p",{className:"my-5 tracking-loose kerning-wide",children:["With a lot of Discounts and savings up to ",Object(g.jsx)("span",{className:"text-bold",children:"30%"})," and more.."]}),Object(g.jsx)(o.b,{to:"/login",children:Object(g.jsx)("button",{className:"bg-blue-600 text-white font-medium border-none px-4 py-2 rounded cursor-pointer",children:"SignIn/Register"})}),Object(g.jsxs)("div",{className:"h-14 bg-white border-4 border-yellow-400 flex items-center justify-around py-2 rounded absolute -bottom-7 w-full max-w-7xl",children:[Object(g.jsxs)("div",{className:"flex items-center gap-2",children:[Object(g.jsx)(h.a,{icon:p.i,className:"text-gray-500"}),Object(g.jsx)("input",{type:"text",value:l,onChange:E,className:"border-none outline-none w-64 text-black",placeholder:"Search Cars or Brands Eg.Tata"})]}),Object(g.jsxs)("div",{className:"flex items-center gap-2 relative",children:[Object(g.jsx)(h.a,{icon:p.d,className:"text-gray-500"}),Object(g.jsx)("span",{onClick:()=>j(!m),className:"text-gray-400 cursor-pointer",children:`${Object(v.default)(u[0].startDate,"dd/MM/yyyy")} to \n                                ${Object(v.default)(u[0].endDate,"dd/MM/yyyy")}`}),m&&Object(g.jsx)("div",{className:"absolute top-12 z-10",children:Object(g.jsx)(f.DateRange,{editableDateInputs:!0,onChange:e=>O([e.selection]),moveRangeOnFirstSelection:!1,ranges:u})})]}),Object(g.jsxs)("div",{className:"flex items-center gap-2 relative",children:[Object(g.jsx)(h.a,{icon:p.b,className:"text-gray-500"}),Object(g.jsx)("span",{onClick:()=>k(!N),className:"text-gray-400 cursor-pointer",children:`${C.adult} Adults - ${C.children} Children - ${C.rooms} Cars`}),N&&Object(g.jsxs)("div",{className:"absolute top-12 bg-white text-gray-600 rounded shadow-lg z-10",children:[Object(g.jsxs)("div",{className:"w-52 flex justify-between m-2",children:[Object(g.jsx)("span",{className:"text-gray-800",children:"Adults"}),Object(g.jsxs)("div",{className:"flex items-center gap-2 text-xs text-black",children:[Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed",disabled:C.adult<=1,onClick:()=>R("adult","d"),children:"-"}),Object(g.jsx)("span",{children:C.adult}),Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white",onClick:()=>R("adult","i"),children:"+"})]})]}),Object(g.jsxs)("div",{className:"w-52 flex justify-between m-2",children:[Object(g.jsx)("span",{className:"text-gray-800",children:"Children"}),Object(g.jsxs)("div",{className:"flex items-center gap-2 text-xs text-black",children:[Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed",disabled:C.children<=0,onClick:()=>R("children","d"),children:"-"}),Object(g.jsx)("span",{children:C.children}),Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white",onClick:()=>R("children","i"),children:"+"})]})]}),Object(g.jsxs)("div",{className:"w-52 flex justify-between m-2",children:[Object(g.jsx)("span",{className:"text-gray-800",children:"Cars"}),Object(g.jsxs)("div",{className:"flex items-center gap-2 text-xs text-black",children:[Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed",disabled:C.rooms<=1,onClick:()=>R("rooms","d"),children:"-"}),Object(g.jsx)("span",{children:C.rooms}),Object(g.jsx)("button",{className:"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white",onClick:()=>R("rooms","i"),children:"+"})]})]})]})]}),Object(g.jsx)("button",{className:"bg-blue-600 text-white font-medium px-4 py-2 cursor-pointer",onClick:()=>{console.log("Search button clicked"),console.log("Current search term:",l),console.log("Selected dates:",u),E({target:{value:l}}),console.log("Filtered cars:",d)},children:"Search"})]})]})}),c&&Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"flex justify-center px-4 py-8 mt-16",children:Object(g.jsx)("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-6 w-full max-w-7xl",children:d.slice(0,3).map((e=>Object(g.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300",children:["        ",Object(g.jsx)("img",{src:e.vehicles[0].image,alt:e.vehicles[0].name,className:"w-full h-48 object-cover rounded-t-lg"}),Object(g.jsx)("div",{className:"p-4",children:Object(g.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.vehicles[0].name}),Object(g.jsxs)("p",{className:"text-gray-600",children:["\u20b9",e.vehicles[0].rentPerHour,"/hour"]})]}),Object(g.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-gray-600",children:[Object(g.jsxs)("p",{children:["Fuel Type: ",e.vehicles[0].fuelType]}),Object(g.jsxs)("p",{children:["Capacity: ",e.vehicles[0].capacity," persons"]}),Object(g.jsxs)("p",{children:["Transmission: ",e.vehicles[0].transmission]})]}),Object(g.jsx)("button",{onClick:()=>{return s=e._id,void(JSON.parse(localStorage.getItem("user"))?t.push({pathname:`/booking/${s}`,search:`?from=${Object(v.default)(u[0].startDate,"yyyy-MM-dd")}&to=${Object(v.default)(u[0].endDate,"yyyy-MM-dd")}`}):t.push("/login"));var s},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded transition-all",children:"Book Now"})]})})]},e._id)))})}),Object(g.jsx)(w,{}),Object(g.jsx)(A,{})]})};var C=function(){const e=JSON.parse(localStorage.getItem("user"));console.log("AdminHome mounted, user:",e);const{cars:t}=Object(i.c)((e=>e.carsReducer)),{loading:s}=Object(i.c)((e=>e.alertsReducer)),[c,l]=Object(a.useState)([]),r=Object(i.b)();Object(a.useEffect)((()=>{r(x())}),[r]),Object(a.useEffect)((()=>{l(t)}),[t]);const n=e=>{var t;window.confirm("Are you sure to delete this car?")&&r((t={carid:e},async e=>{e({type:"LOADING",payload:!0});try{await b.a.post("/api/cars/deletecar",t),j("Car deleted successfully"),e({type:"LOADING",payload:!1})}catch(s){console.log(s),u("Something went wrong"),e({type:"LOADING",payload:!1})}}))};return Object(g.jsxs)(y,{children:[Object(g.jsx)("div",{className:"flex justify-center mt-2",children:Object(g.jsx)("div",{className:"lg:w-5/6 sm:w-full",children:Object(g.jsxs)("div",{className:"flex justify-between items-center",children:[Object(g.jsx)("h3",{className:"text-bold text-2xl ",children:"Admin Panel"}),Object(g.jsxs)("div",{className:"flex gap-4",children:[Object(g.jsx)(o.b,{to:"/addcar",className:"btn1 bg-blue-200 p-2 rounded-lg hover:bg-blue-300 transition-colors duration-200 inline-block",children:"ADD CAR"}),Object(g.jsx)(o.b,{to:"/admin/bookings",className:"btn1 bg-green-200 p-2 rounded-lg hover:bg-green-300 transition-colors duration-200 inline-block",children:"MANAGE BOOKINGS"})]})]})})}),s&&Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"flex justify-between align-middle mt-10 ",children:Object(g.jsx)("div",{className:"grid lg:grid-cols-5 sm:grid-cols-1 gap-4 ",children:c.map((e=>Object(g.jsx)("div",{className:"car p-2 bs1",children:e.vehicles&&e.vehicles[0]&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{src:e.vehicles[0].image,className:"carimg rounded-lg h-40 w-80",alt:e.vehicles[0].name}),Object(g.jsxs)("div",{className:"car-content flex justify-between items-center mt-2 ",children:[Object(g.jsxs)("div",{className:"text-left pl-2",children:[Object(g.jsx)("p",{children:e.vehicles[0].name}),Object(g.jsxs)("p",{children:["Rent Per Hour ",e.vehicles[0].rentPerHour," /-"]}),Object(g.jsxs)("p",{className:"text-sm text-gray-600",children:["Category: ",e.category]})]}),Object(g.jsxs)("div",{className:"mr-4 flex items-center translate-x-5",children:[Object(g.jsx)(o.b,{to:`/editcar/${e._id}`,children:Object(g.jsx)(N.b,{className:"mr-3 text-green-500 cursor-pointer"})}),Object(g.jsx)(N.d,{className:"text-red-500 cursor-pointer",onClick:()=>n(e._id)})]})]})]})},e._id)))})})]})},_=s(77),E=s(274),R=s(275),D=s(70),T=s.n(D);var P=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(!1),[l,r]=Object(a.useState)(!1),[n,o]=Object(a.useState)(null);Object(a.useEffect)((()=>{i()}),[]);const i=async()=>{c(!0);try{const e=await b.a.get("/api/bookings/getallbookings");t(e.data)}catch(e){m.a.error("Failed to fetch bookings")}finally{c(!1)}},d=[{title:"User",dataIndex:["user","username"],key:"user"},{title:"Car",dataIndex:["car","name"],key:"car"},{title:"From",dataIndex:"from",key:"from",render:e=>T()(e).format("LLL")},{title:"To",dataIndex:"to",key:"to",render:e=>T()(e).format("LLL")},{title:"Actions",key:"actions",render:(e,t)=>Object(g.jsx)(_.a,{danger:!0,onClick:()=>(o(t),void r(!0)),children:"Delete"})}];return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{className:"m-4 text-3xl ",children:"Manage Bookings"}),Object(g.jsx)(E.a,{dataSource:e,columns:d,loading:s,rowKey:"_id"}),Object(g.jsx)(R.a,{title:"Confirm Delete",open:l,onOk:()=>{(async e=>{try{await b.a.delete(`/api/bookings/${e}`),m.a.success("Booking deleted successfully"),i()}catch(t){m.a.error("Failed to delete booking")}})(n._id),r(!1)},onCancel:()=>r(!1),children:Object(g.jsx)("p",{children:"Are you sure you want to delete this booking?"})})]})};b.a.defaults.baseURL="https://mern-project2-backend-2.onrender.com";const I=e=>async t=>{t({type:"LOADING",payload:!0});try{const s={username:e.username,email:e.username.includes("@")?e.username:null,password:e.password},a=(await b.a.post("/api/users/login",s)).data;return localStorage.setItem("user",JSON.stringify(a)),t({type:"LOADING",payload:!1}),a.isAdmin&&(window.location.href="/admin"),a}catch(c){var s,a;throw t({type:"LOADING",payload:!1}),m.a.error((null===(s=c.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Login failed"),c}};var L=s(208),F=s.n(L);s(263);F.a.init();var H=function(e){let{setUser:t}=e;const s=Object(i.b)(),a=Object(n.g)(),{loading:c}=Object(i.c)((e=>e.alertsReducer));return Object(g.jsxs)("div",{className:"login",children:[c&&Object(g.jsx)(S,{}),Object(g.jsxs)("div",{className:"justify-center items-center min-h-screen",children:[Object(g.jsx)("div",{className:"lg:w-2/3 w-full relative"}),Object(g.jsx)("div",{className:"justify-center items-center",children:Object(g.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:async function(e){e.preventDefault();try{const c=new FormData(e.target),l=Object.fromEntries(c.entries());if("admin"===l.username&&"admin123"===l.password){const e=await s(I(l));console.log("Admin login response:",e),e&&e.isAdmin&&(t(e),m.a.success("Welcome Admin!"),a.push("/admin"))}else{const e=await s(I(l));console.log("User login response:",e),e&&(t(e),m.a.success("Login successful!"),a.push("/"))}}catch(r){var c,l;console.error("Login failed:",r),m.a.error((null===(c=r.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.message)||"Invalid credentials")}},children:[Object(g.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Carzz"}),Object(g.jsx)("h1",{className:"text-xl mb-4",children:"Login"}),Object(g.jsx)("hr",{className:"mb-4"}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username or Email"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",name:"username",type:"text",placeholder:"Enter username or email",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",name:"password",type:"password",required:!0})]}),Object(g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2",type:"submit",children:"Login"}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsx)(o.b,{to:"/register",className:"text-blue-500 hover:text-blue-700",children:"Click Here to Register"})]})})]})]})};const U="GET_ALL_BOOKINGS",M="LOADING",B=e=>async t=>{t({type:M,payload:!0});try{const s=await b.a.post("/api/bookings/bookcar",e);return t({type:M,payload:!1}),s.data}catch(s){throw console.error("Error booking car:",s),t({type:M,payload:!1}),s}};var G=function(){const e=Object(i.b)(),{bookings:t}=Object(i.c)((e=>e.bookingsReducer)),{loading:s}=Object(i.c)((e=>e.alertsReducer)),[c,l]=Object(a.useState)([]),r=JSON.parse(localStorage.getItem("user"));return Object(a.useEffect)((()=>{null!==t&&void 0!==t&&t.length||e((async e=>{e({type:M,payload:!0});try{const t=await b.a.get("/api/bookings/getallbookings"),s=Array.isArray(t.data)?t.data:[];e({type:U,payload:s}),e({type:M,payload:!1})}catch(t){console.error("Error fetching bookings:",t),e({type:M,payload:!1})}}))}),[e,null===t||void 0===t?void 0:t.length]),Object(a.useEffect)((()=>{if(t&&r){console.log("All bookings:",t),console.log("Current user ID:",r._id);const e=t.filter((e=>(console.log("Booking user ID:",e.user),e.user._id===r._id)));console.log("Filtered bookings:",e),JSON.stringify(e)!==JSON.stringify(c)&&l(e)}}),[t,r,c]),Object(g.jsxs)(y,{children:[s&&Object(g.jsx)(S,{}),Object(g.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[Object(g.jsx)("h3",{className:"text-2xl font-bold text-center mb-8",children:"My Bookings"}),c&&0!==c.length?Object(g.jsx)("div",{className:"max-w-4xl mx-auto",children:c.map((e=>{var t,s,a,c,l,r,n,o,i,d,b;return Object(g.jsx)("div",{className:"bg-white shadow-lg rounded-lg mb-6 overflow-hidden",children:Object(g.jsx)("div",{className:"p-6",children:Object(g.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{className:"font-bold text-lg mb-2",children:(null===(t=e.car)||void 0===t||null===(s=t.vehicles)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.name)||"Car"}),Object(g.jsx)("img",{src:null===(c=e.car)||void 0===c||null===(l=c.vehicles)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.image,alt:(null===(n=e.car)||void 0===n||null===(o=n.vehicles)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.name)||"Car",className:"w-full h-40 object-cover rounded-lg"})]}),Object(g.jsx)("div",{className:"space-y-2",children:Object(g.jsxs)("div",{className:"text-gray-600",children:[Object(g.jsxs)("p",{children:["From: ",T()(null===(d=e.bookedTimeSlots)||void 0===d?void 0:d.from).format("MMM DD YYYY, HH:mm")]}),Object(g.jsxs)("p",{children:["To: ",T()(null===(b=e.bookedTimeSlots)||void 0===b?void 0:b.to).format("MMM DD YYYY, HH:mm")]}),Object(g.jsxs)("p",{children:["Total Hours: ",e.totalHours]})]})}),Object(g.jsxs)("div",{className:"space-y-2",children:[Object(g.jsxs)("p",{className:"font-semibold",children:["\u20b9",e.totalAmount]}),Object(g.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction ID:"}),Object(g.jsx)("p",{className:"text-xs font-mono",children:e.transactionId}),e.driverRequired&&Object(g.jsx)("p",{className:"text-sm text-blue-600",children:"Driver Included"})]})]})})},e._id)}))}):Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("div",{className:"text-gray-600 mb-4",children:"No bookings found. Start booking cars now!"}),Object(g.jsx)(o.b,{to:"/",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Browse Cars"})]})]})]})},K=s(215),q=s(123);const W=e=>{let{totalAmount:t,car:s,driver:a,from:c,to:l,totalHours:r,dispatch:n,history:o,setPaymentProcessing:i}=e;const d=Object(q.useStripe)(),b=Object(q.useElements)();return Object(g.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=await fetch("/api/payments/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100*t})}),{clientSecret:m}=await e.json();if(m.includes("dummy")){const e={paymentIntent:{status:"succeeded",id:`pi_dummy_${Date.now()}`}},i={user:JSON.parse(localStorage.getItem("user"))._id,car:s._id,totalHours:r,totalAmount:t,driverRequired:a,bookedTimeSlots:{from:c,to:l},transactionId:e.paymentIntent.id};await n(B(i))&&o.push("/userbookings")}else{const e=await d.confirmCardPayment(m,{payment_method:{card:b.getElement(q.CardElement),billing_details:{name:JSON.parse(localStorage.getItem("user")).name}}});if(e.error)alert(e.error.message),i(!1);else if("succeeded"===e.paymentIntent.status){const i={user:JSON.parse(localStorage.getItem("user"))._id,car:s._id,totalHours:r,totalAmount:t,driverRequired:a,bookedTimeSlots:{from:c,to:l},transactionId:e.paymentIntent.id};await n(B(i))&&o.push("/userbookings")}}}catch(m){console.error(m),alert("Payment failed. Please try again."),i(!1)}},children:[!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:""}).REACT_APP_STRIPE_PUBLIC_KEY&&Object(g.jsx)("div",{className:"mb-4 p-3 bg-gray-100 rounded",children:Object(g.jsx)("p",{className:"text-gray-600",children:"Payment processing in dummy mode"})}),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:""}).REACT_APP_STRIPE_PUBLIC_KEY&&Object(g.jsx)("div",{className:"mb-4",children:Object(g.jsx)(q.CardElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),Object(g.jsx)("button",{type:"submit",className:"btn1 bg-blue-500 p-2 mt-4 w-full",disabled:!!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:""}).REACT_APP_STRIPE_PUBLIC_KEY&&!d,children:"Pay Now"})]})};const V=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:""}).REACT_APP_STRIPE_PUBLIC_KEY?Object(K.a)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:""}).REACT_APP_STRIPE_PUBLIC_KEY):Promise.resolve(null);var z=function(e){var t,s,c,l,r,o,d;let{match:j}=e;const{cars:u}=Object(i.c)((e=>e.carsReducer)),{loading:h}=Object(i.c)((e=>e.alertsReducer)),[p,O]=Object(a.useState)({}),f=Object(i.b)(),v=Object(n.g)(),[N,w]=Object(a.useState)(),[A,k]=Object(a.useState)(),[C,_]=Object(a.useState)(0),[E,R]=Object(a.useState)(!1),[D,P]=Object(a.useState)(0),[I,L]=Object(a.useState)(!1),[F,H]=Object(a.useState)([]),[U,M]=Object(a.useState)(!1);Object(a.useEffect)((()=>{if(I&&p._id){(async()=>{M(!0);try{const e=await b.a.get("/api/booked-time-slots/64b1f76046b12a28c2950584");console.log("Booked time slots response:",e.data),H(e.data)}catch(e){console.error("Error fetching booked time slots:",e),m.a.error("Failed to load booked time slots")}finally{M(!1)}})()}}),[I,p._id]);const[,B]=Object(a.useState)(!1);function G(e){w(T()(e[0]).format("MMM DD yyyy HH:mm")),k(T()(e[1]).format("MMM DD yyyy HH:mm")),_(e[1].diff(e[0],"hours"))}return console.log("Match Object:",j),console.log("Car ID from params:",j.params.carid),console.log("Cars from Redux state:",u),Object(a.useEffect)((()=>{if(0===u.length)f(x());else{console.log("Searching for car with ID:",j.params.carid);const e=u.find((e=>e._id===j.params.carid));e?(console.log("Found car:",e),O(e)):(console.error("Car not found for ID:",j.params.carid),console.log("Available cars:",u))}}),[u,f,j.params.carid]),Object(a.useEffect)((()=>{var e,t;const s=C*((null===(e=p.vehicles)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.rentPerHour)||0);P(E?s+30*C:s)}),[E,C,p.vehicles]),Object(g.jsxs)(y,{children:[h&&Object(g.jsx)(S,{}),Object(g.jsxs)("div",{className:"flex justify-center items-center",style:{minHeight:"90vh"},children:[Object(g.jsx)("div",{className:"lg:w-1/2 sm:w-full p-3",children:p.vehicles&&(null===(t=p.vehicles[0])||void 0===t?void 0:t.image)&&Object(g.jsx)("img",{src:p.vehicles[0].image,className:"carimg2 bs1 w-full",alt:p.vehicles[0].name||"Car"})}),Object(g.jsxs)("div",{className:"lg:w-1/2 sm:w-full text-right p-3",children:[Object(g.jsx)("div",{className:"border-b border-gray-300 mb-4",children:Object(g.jsx)("h3",{className:"text-xl",children:"Car Info"})}),Object(g.jsxs)("div",{className:"text-right",children:[Object(g.jsx)("p",{children:p.vehicles&&(null===(s=p.vehicles[0])||void 0===s?void 0:s.name)||"Car not found"}),Object(g.jsxs)("p",{children:[p.vehicles&&(null===(c=p.vehicles[0])||void 0===c?void 0:c.rentPerHour)||"N/A"," Rent Per hour /-"]}),Object(g.jsxs)("p",{children:["Fuel Type : ",p.vehicles&&(null===(l=p.vehicles[0])||void 0===l?void 0:l.fuelType)||"N/A"]}),Object(g.jsxs)("p",{children:["Max Persons : ",p.vehicles&&(null===(r=p.vehicles[0])||void 0===r?void 0:r.capacity)||"N/A"]})]}),Object(g.jsx)("div",{className:"border-b border-gray-300 my-4",children:Object(g.jsx)("h3",{className:"text-xl",children:"Select Time Slots"})}),Object(g.jsx)("input",{type:"datetime-local",className:"block w-full mb-2 p-2 border rounded",onChange:e=>G([T()(e.target.value),T()(A)])}),Object(g.jsx)("input",{type:"datetime-local",className:"block w-full mb-2 p-2 border rounded",onChange:e=>G([T()(N),T()(e.target.value)])}),Object(g.jsx)("button",{className:"btn1 mt-2 underline ",onClick:()=>{L(!0)},children:"See Booked Slots"}),N&&A&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["Total Hours : ",Object(g.jsx)("b",{children:C})]}),Object(g.jsxs)("p",{children:["Rent Per Hour : ",Object(g.jsx)("b",{children:p.vehicles&&(null===(o=p.vehicles[0])||void 0===o?void 0:o.rentPerHour)})]}),Object(g.jsxs)("label",{className:"inline-flex items-center mt-3",children:[Object(g.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-gray-600",onChange:e=>R(e.target.checked)}),Object(g.jsx)("span",{className:"ml-2 text-gray-700",children:"Driver Required"})]}),Object(g.jsxs)("h3",{children:["Total Amount : ",D]}),Object(g.jsx)(q.Elements,{stripe:V,children:Object(g.jsx)(W,{totalAmount:D,car:p,driver:E,from:N,to:A,totalHours:C,dispatch:f,history:v,setPaymentProcessing:B})})]})]}),p.vehicles&&(null===(d=p.vehicles[0])||void 0===d?void 0:d.name)&&Object(g.jsx)("div",{className:"modal "+(I?"block":"hidden"),children:Object(g.jsxs)("div",{className:"modal-content p-2 shadow-lg rounded-lg",children:[Object(g.jsx)("h3",{className:"text-xl mb-4",children:"Booked time slots"}),F.length>0?F.map((e=>{const t=new Date(e.from).toLocaleTimeString(),s=new Date(e.to).toLocaleTimeString();return console.log("Rendering slot:",e._id,t,s),Object(g.jsxs)("button",{className:"btn1 mt-2",children:[t," - ",s]},e._id)})):Object(g.jsx)("p",{children:"No booked time slots available"}),Object(g.jsx)("div",{className:"text-center text-white mt-5 bg-red-500 p-2 rounded hover:bg-red-600 cursor-pointer",children:Object(g.jsx)("button",{className:"btn1",onClick:()=>{L(!1)},children:"CLOSE"})})]})})]})]})};var Y=function(){const e=Object(i.b)(),{loading:t}=Object(i.c)((e=>e.alertsReducer));return Object(g.jsxs)(y,{children:[t&&Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"flex justify-center mt-5",children:Object(g.jsx)("div",{className:"lg:w-1/2 sm:w-full p-2",children:Object(g.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:function(t){t.preventDefault();const s=new FormData(t.target),a=Object.fromEntries(s.entries());var c;a.bookedTimeSlots=[],e((c=a,async e=>{e({type:"LOADING",payload:!0});try{200===(await b.a.post("${baseURL}/api/cars/addcar",{vehicles:[{name:c.name,image:c.image,rentPerHour:c.rentPerHour,capacity:c.capacity,fuelType:c.fuelType,transmission:c.transmission}],category:c.category||"standard"})).status&&(j("Car added successfully"),e(x())),e({type:"LOADING",payload:!1})}catch(l){var t,s,a;console.error("Add car error:",(null===(t=l.response)||void 0===t?void 0:t.data)||l.message),u((null===(s=l.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to add car"),e({type:"LOADING",payload:!1})}})),console.log(a)},children:[Object(g.jsx)("h3",{className:"text-xl mb-4",children:"Add New Car"}),Object(g.jsx)("hr",{className:"mb-4"}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"transmission",children:"Transmission"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"transmission",name:"transmission",type:"text",required:!0}),Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Car name"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",name:"name",type:"text",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"Image url"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"image",name:"image",type:"text",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"rentPerHour",children:"Rent per hour"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rentPerHour",name:"rentPerHour",type:"text",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"capacity",children:"Capacity"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"capacity",name:"capacity",type:"text",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fuelType",children:"Fuel Type"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"fuelType",name:"fuelType",type:"text",required:!0})]}),Object(g.jsx)("div",{className:"text-right",children:Object(g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"ADD CAR"})})]})})})]})};var J=function(e){let{match:t}=e;const{cars:s}=Object(i.c)((e=>e.carsReducer)),c=Object(i.b)(),{loading:l}=Object(i.c)((e=>e.alertsReducer)),[r,n]=Object(a.useState)(),[o,d]=Object(a.useState)([]);return Object(a.useEffect)((()=>{0===s.length?c(x()):(d(s),n(s.find((e=>e._id===t.params.carid))))}),[s,c,t.params.carid]),Object(g.jsxs)(y,{children:[l&&Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"flex justify-center mt-5",children:Object(g.jsx)("div",{className:"lg:w-1/2 sm:w-full p-2",children:o.length>0&&r&&r.vehicles&&r.vehicles[0]&&Object(g.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:function(e){e.preventDefault();const t=new FormData(e.target),s=Object.fromEntries(t.entries());s._id=r._id;const a={_id:r._id,category:s.category,vehicles:[{name:s.name,image:s.image,rentPerHour:s.rentPerHour,capacity:s.capacity,fuelType:s.fuelType}]};var l;c((l=a,async e=>{e({type:"LOADING",payload:!0});try{200===(await b.a.post("/api/cars/editcar",l)).status&&j("Car edited successfully"),e({type:"LOADING",payload:!1})}catch(t){console.log(t),u("Something went wrong"),e({type:"LOADING",payload:!1})}}))},children:[Object(g.jsx)("h3",{className:"text-xl mb-4",children:"Edit Car"}),Object(g.jsx)("hr",{className:"mb-4"}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"Category"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",name:"category",type:"text",defaultValue:r.category,required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Car name"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",name:"name",type:"text",defaultValue:r.vehicles[0].name,required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image",children:"Image url"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"image",name:"image",type:"text",defaultValue:r.vehicles[0].image,required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"rentPerHour",children:"Rent per hour"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rentPerHour",name:"rentPerHour",type:"text",defaultValue:r.vehicles[0].rentPerHour,required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"capacity",children:"Capacity"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"capacity",name:"capacity",type:"text",defaultValue:r.vehicles[0].capacity,required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fuelType",children:"Fuel Type"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"fuelType",name:"fuelType",type:"text",defaultValue:r.vehicles[0].fuelType,required:!0})]}),Object(g.jsx)("div",{className:"text-right",children:Object(g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Edit CAR"})})]})})})]})};var $=function(){const e=Object(i.b)(),t=Object(n.g)(),{loading:s}=Object(i.c)((e=>e.alertsReducer));return Object(g.jsxs)("div",{className:"register",children:[s&&Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"justify-center items-center min-h-screen",children:Object(g.jsx)("div",{className:"justify-center items-center",children:Object(g.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:async function(s){s.preventDefault();try{const a=new FormData(s.target),c=Object.fromEntries(a.entries());await e((e=>async t=>{t({type:"LOADING",payload:!0});try{const s=await b.a.post("${baseURL}/api/users/register",e);return t({type:"LOADING",payload:!1}),m.a.success("Registration successful! Please login."),s.data}catch(c){var s,a;throw console.error("Registration error:",c),t({type:"LOADING",payload:!1}),m.a.error((null===(s=c.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Registration failed"),c}})(c)),t.push("/login")}catch(a){console.error("Registration failed:",a)}},children:[Object(g.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Carzz"}),Object(g.jsx)("h1",{className:"text-xl mb-4",children:"Register"}),Object(g.jsx)("hr",{className:"mb-4"}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Username"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",name:"username",type:"text",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"email",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",name:"password",type:"password",required:!0})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"cpassword",children:"Confirm Password"}),Object(g.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"cpassword",name:"cpassword",type:"password",required:!0})]}),Object(g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2",type:"submit",children:"Register"}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsx)(o.b,{to:"/login",className:"text-blue-500 hover:text-blue-700",children:"Already have an account? Login"})]})})})]})};var Q=function(){const[e,t]=c.a.useState((()=>{try{return JSON.parse(localStorage.getItem("user"))||null}catch(e){return console.error("Error parsing user from localStorage:",e),null}})),s=t=>{let{component:s,isAdmin:a,...c}=t;return e?Object(g.jsx)(n.b,{...c,render:t=>a&&!e.isAdmin?Object(g.jsx)(n.a,{to:"/"}):!a&&e.isAdmin?Object(g.jsx)(n.a,{to:"/admin"}):Object(g.jsx)(s,{...t})}):Object(g.jsx)(n.a,{to:"/login"})};return Object(g.jsx)(o.a,{children:Object(g.jsxs)(n.d,{children:[Object(g.jsx)(n.b,{exact:!0,path:"/login",render:()=>e?Object(g.jsx)(n.a,{to:e.isAdmin?"/admin":"/"}):Object(g.jsx)(H,{setUser:t})}),Object(g.jsx)(n.b,{exact:!0,path:"/register",render:()=>e?Object(g.jsx)(n.a,{to:e.isAdmin?"/admin":"/"}):Object(g.jsx)($,{})}),Object(g.jsx)(s,{exact:!0,path:"/admin",component:C,isAdmin:!0}),Object(g.jsx)(s,{exact:!0,path:"/admin/bookings",component:P,isAdmin:!0}),Object(g.jsx)(s,{exact:!0,path:"/addcar",component:Y,isAdmin:!0}),Object(g.jsx)(s,{exact:!0,path:"/editcar/:carid",component:J,isAdmin:!0}),Object(g.jsx)(s,{exact:!0,path:"/",component:k,isAdmin:!1}),Object(g.jsx)(s,{exact:!0,path:"/userbookings",component:G,isAdmin:!1}),Object(g.jsx)(s,{exact:!0,path:"/booking/:carid",component:z,isAdmin:!1}),Object(g.jsx)(n.b,{path:"*",children:Object(g.jsx)(n.a,{to:null!==e&&void 0!==e&&e.isAdmin?"/admin":"/"})})]})})};var X=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,276)).then((t=>{let{getCLS:s,getFID:a,getFCP:c,getLCP:l,getTTFB:r}=t;s(e),a(e),c(e),l(e),r(e)}))},Z=s(130),ee=s(209),te=s(210);const se={cars:[],loading:!1,error:null},ae={loading:!1},ce={bookings:[]};var le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return t.type===U?{...e,bookings:Array.isArray(t.payload)?t.payload:[]}:e};const re=Object(Z.combineReducers)({carsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CARS":return{...e,cars:t.payload};case"LOADING":return{...e,loading:t.payload};case"ERROR":return{...e,error:t.payload};default:return e}},alertsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return"LOADING"===t.type?{...e,loading:t.payload}:e},bookingsReducer:le}),ne=Object(ee.composeWithDevTools)({trace:!0,traceLimit:25});var oe=Object(Z.createStore)(re,ne(Object(Z.applyMiddleware)(te.a)));r.a.render(Object(g.jsx)(i.a,{store:oe,children:Object(g.jsx)(Q,{})}),document.getElementById("root")),X()}},[[265,1,2]]]);
//# sourceMappingURL=main.4fecb832.chunk.js.map