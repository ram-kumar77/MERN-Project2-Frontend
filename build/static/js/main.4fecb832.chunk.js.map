{"version":3,"sources":["utils/alert.js","redux/actions/carsActions.js","components/DefaultLayout.jsx","components/About.jsx","components/Spinner.jsx","components/Footer.jsx","pages/Home.jsx","pages/AdminHome.jsx","pages/AdminBookings.jsx","redux/actions/userActions.js","pages/Login.jsx","redux/types.js","redux/actions/bookingActions.js","pages/UserBookings.jsx","pages/BookingCar.jsx","pages/AddCar.jsx","pages/EditCar.jsx","pages/Register.jsx","App.jsx","reportWebVitals.js","redux/reducers/carsReducer.js","redux/reducers/alertsReducer.js","redux/reducers/bookingsReducer.js","redux/store.js","index.js"],"names":["alert","message","toast","success","error","getAllCars","async","dispatch","type","payload","response","axios","get","console","log","data","DefaultLayout","props","isOpen","setIsOpen","useState","dropdownRef","useRef","history","useHistory","user","setUser","JSON","parse","localStorage","getItem","useEffect","currentPath","window","location","pathname","isAdmin","push","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleNavigate","path","_jsxs","className","children","_jsx","onClick","goBack","FontAwesomeIcon","icon","faArrowLeft","navigateHome","faCar","ref","toggleDropdown","prevState","faUser","username","faCaretDown","style","zIndex","handleLogout","removeItem","href","Redirect","to","About","src","alt","FaCar","FaPhoneAlt","Spinner","Footer","Date","getFullYear","Home","useDispatch","cars","loading","useSelector","state","carsReducer","searchTerm","setSearchTerm","filteredCars","setFilteredCars","opendate","setOpendate","date","setDate","startDate","endDate","key","openOptions","setOpenOptions","options","setOptions","adult","rooms","length","handleSearch","e","term","value","toLowerCase","filtered","filter","car","category","includes","vehicles","some","vehicle","_vehicle$brand","name","brand","fromDate","toDate","_vehicle$bookedTimeSl","bookedTimeSlots","slot","slotFrom","from","slotTo","handleOption","operation","prev","faCarSide","faCarRear","faBus","Link","faLocationDot","onChange","placeholder","faCalendarDays","format","DateRange","editableDateInputs","item","selection","moveRangeOnFirstSelection","ranges","faBed","disabled","slice","map","image","rentPerHour","fuelType","capacity","transmission","handleBooking","carId","_id","search","AdminHome","alertsReducer","totalCars","setTotalcars","confirmDelete","reqObj","confirm","carid","post","_Fragment","FaEdit","FaTrashAlt","AdminBookings","bookings","setBookings","setLoading","isModalVisible","setIsModalVisible","selectedBooking","setSelectedBooking","fetchBookings","columns","title","dataIndex","render","text","moment","_","record","Button","danger","Table","dataSource","rowKey","Modal","open","onOk","delete","bookingId","handleDelete","onCancel","defaults","baseURL","userLogin","values","loginData","email","password","setItem","stringify","_error$response","_error$response$data","AOS","init","Login","_ref","onSubmit","preventDefault","formData","FormData","Object","fromEntries","entries","htmlFor","id","required","GET_ALL_BOOKINGS","SET_LOADING","bookCar","UserBookings","bookingsReducer","userBookings","setUserBookings","bookingsData","Array","isArray","filteredBookings","booking","_booking$car","_booking$car$vehicles","_booking$car$vehicles2","_booking$car2","_booking$car2$vehicle","_booking$car2$vehicle2","_booking$car3","_booking$car3$vehicle","_booking$car3$vehicle2","_booking$bookedTimeSl","_booking$bookedTimeSl2","totalHours","totalAmount","transactionId","driverRequired","PaymentForm","driver","setPaymentProcessing","stripe","useStripe","elements","useElements","fetch","method","headers","body","amount","clientSecret","json","result","paymentIntent","status","now","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","process","REACT_APP_STRIPE_PUBLIC_KEY","base","fontSize","color","invalid","stripePromise","loadStripe","Promise","resolve","BookingCar","_ref2","_car$vehicles$2","_car$vehicles$3","_car$vehicles$4","_car$vehicles$5","_car$vehicles$6","_car$vehicles$7","_car$vehicles$8","match","setcar","setFrom","setTo","setTotalHours","setdriver","setTotalAmount","showModal","setShowModal","setBookedTimeSlots","loadingSlots","setLoadingSlots","fetchBookedTimeSlots","selectTimeSlots","diff","params","foundCar","find","o","_car$vehicles","_car$vehicles$","baseAmount","minHeight","checked","Elements","fromTime","toLocaleTimeString","toTime","AddCar","_error$response2","_error$response2$data","EditCar","totalcars","settotalcars","updatedCar","defaultValue","Register","userRegister","App","React","ProtectedRoute","component","Component","rest","Route","Router","Switch","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","arguments","undefined","action","rootReducer","combineReducers","composeEnhancers","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunk","ReactDOM","Provider","getElementById"],"mappings":"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","file":"static/js/main.4fecb832.chunk.js","sourcesContent":["import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst alert = {\r\n  success: (message) => {\r\n    toast.success(message);\r\n  },\r\n  error: (message) => {\r\n    toast.error(message);\r\n  }\r\n};\r\n\r\nexport { alert };","import axios from 'axios';\nimport { alert } from '../../utils/alert';\n\nexport const getAllCars = () => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    const response = await axios.get('${baseURL}/api/cars/cars'); // Corrected endpoint\n    console.log('Fetched cars:', response.data); // Log fetched data\n    dispatch({ type: 'GET_ALL_CARS', payload: response.data });\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.error('Error fetching cars:', error);\n    dispatch({ type: 'LOADING', payload: false });\n    dispatch({ type: 'ERROR', payload: error.message });\n  }\n};\nexport const addCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    // Add base URL and ensure request body format is correct\n    const response = await axios.post('${baseURL}/api/cars/addcar', {\n      vehicles: [{\n        name: reqObj.name,\n        image: reqObj.image,\n        rentPerHour: reqObj.rentPerHour,\n        capacity: reqObj.capacity,\n        fuelType: reqObj.fuelType,\n        transmission: reqObj.transmission\n      }],\n      category: reqObj.category || 'standard'   \n    });\n\n    if (response.status === 200) {\n      alert.success('Car added successfully');\n\n      dispatch(getAllCars());\n    }\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.error('Add car error:', error.response?.data || error.message);\n    alert.error(error.response?.data?.message || 'Failed to add car');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n\nexport const editCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    const response = await axios.post('/api/cars/editcar', reqObj);\n    if (response.status === 200) {\n      alert.success('Car edited successfully');\n    }\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.log(error);\n    alert.error('Something went wrong');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n\nexport const deleteCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    await axios.post('/api/cars/deletecar', reqObj);\n    alert.success('Car deleted successfully');\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.log(error);\n    alert.error('Something went wrong');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\"; // Added Redirect import\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCar, faCaretDown, faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUser } from \"@fortawesome/free-regular-svg-icons\";\n\nfunction DefaultLayout(props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const history = useHistory();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || null);\n\n  useEffect(() => {\n    if (user) {\n        const currentPath = window.location.pathname;\n        if (currentPath === '/') {\n            if (user.isAdmin) {\n                history.push('/admin');\n            }\n        } else if (currentPath === '/admin' && !user.isAdmin) {\n            history.push('/');\n        }\n    }\n}, [user, history]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleLogout = () => {\n    try {\n      // Clear all user-related data\n      localStorage.removeItem('user');\n      setUser(null);\n      setIsOpen(false);\n      \n      // Force a full page reload to clear any remaining state\n      window.location.href = '/login';\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Fallback to regular redirect if full reload fails\n      history.push('/login');\n    }\n  };\n\n  const toggleDropdown = () => {\n    setIsOpen(prevState => !prevState);\n  };\n\n  const handleNavigate = (path) => {\n    setIsOpen(false);\n    history.push(path);\n  };\n\n  const navigateHome = () => {\n    if (user?.isAdmin) {\n      history.push(\"/admin\");\n    } else {\n      history.push(\"/\");\n    }\n  };\n\n  if (!user) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <div className=\"navbar bg-gray-800 p-4 relative z-50\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center\">\n            {user?.isAdmin && (\n              <button\n                onClick={() => history.goBack()}\n                className=\"text-white mr-4 hover:text-gray-300\"\n              >\n                <FontAwesomeIcon icon={faArrowLeft} />\n              </button>\n            )}\n            <button \n              onClick={navigateHome}\n              className=\"logo text-white text-3xl text-bold  flex items-center\"\n            >\n              <FontAwesomeIcon \n                icon={faCar}\n                className=\"mr-2\" \n              />\n              <span>{user?.isAdmin ? \"Admin Panel\" : \"Carzz\"}</span>\n            </button>\n          </div>\n\n          <div className=\"navItems relative\" ref={dropdownRef}>\n            <button \n              className=\"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors focus:outline-none\"\n              onClick={toggleDropdown}\n            >\n              <FontAwesomeIcon icon={faUser} className=\"text-lg\" />\n              <span>{user?.username || 'User'}</span>\n              <FontAwesomeIcon \n                icon={faCaretDown} \n                className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n              />\n            </button>\n\n            {isOpen && (\n  <div \n    className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg overflow-hidden\"\n    style={{ zIndex: 1000 }}\n  >\n    <button \n      onClick={() => handleNavigate(user?.isAdmin ? \"/admin\" : \"/\")}\n      className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors\"\n    >\n      {user?.isAdmin ? \"Dashboard\" : \"Home\"}\n    </button>\n    {!user?.isAdmin && (\n      <button \n        onClick={() => handleNavigate(\"/userbookings\")}\n        className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors\"\n      >\n        My Bookings\n      </button>\n    )}\n    <hr className=\"my-1 border-gray-200\" />\n    <button \n      onClick={handleLogout}\n      className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 transition-colors\"\n    >\n      Logout\n    </button>\n  </div>\n)}\n          </div>\n        </div>\n      </div>\n      <div className=\"content p-4\">{props.children}</div>\n    </div>\n  );\n}\n\nexport default DefaultLayout;","import React from \"react\";\r\nimport { FaPhoneAlt, FaCar } from \"react-icons/fa\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <section className=\"about-wrapper bg-blue-50 py-10\">\r\n      <div className=\"about-linecontainer\">\r\n        <div className=\"about-line\"></div>\r\n      </div>\r\n      <div className=\"flex flex-col md:flex-row justify-between items-center p-8\">\r\n      <div className=\"flex justify-center mb-8\">\r\n        <img \r\n          src=\"https://www.shutterstock.com/image-photo/man-handing-car-smart-key-600nw-2466586367.jpg\" \r\n          alt=\"Vehicle Rental\" \r\n          className=\"rounded-xl dark:transition dark:grayscale hover:grayscale-0 hover:shadow-2xl\"  \r\n        />\r\n      </div>\r\n        <div className=\"about-right flex flex-col justify-center md:w-1/2\">\r\n        <div className=\"about-left flex items-center mb-6 md:mb-0\">\r\n          <FaCar className=\"text-6xl text-[#846330] mr-4\" />\r\n          <h1 className=\"font-semibold text-[#846330] text-2xl md:text-3xl\">\r\n            About carzz Vehicle Rental\r\n          </h1>\r\n        </div>\r\n          <p className=\"text-[#846330] text-lg mb-4\">\r\n            At carzz Vehicle Rental, we provide a variety of vehicles for all\r\n            your transportation needs. Whether it's for business trips, family\r\n            vacations, or special events, we strive to ensure a seamless and\r\n            enjoyable rental experience. Established in 2010, we have built a\r\n            reputation for excellent service and customer satisfaction, offering\r\n            a fleet of well-maintained vehicles at competitive rates. Our\r\n            dedicated team is here to assist you every step of the way, ensuring\r\n            that your journey is safe, comfortable, and memorable.\r\n          </p>\r\n          <div className=\"about-bottom flex md:flex-row justify-between mt-4\">\r\n            <div className=\"experience text-center\">\r\n              <h1 className=\"p-2 text-5xl text-[#846330]\">12+</h1>\r\n              <p className=\"text-lg text-gray-700\">\r\n                Years of Experience\r\n              </p>\r\n            </div>\r\n            <div className=\"contact flex items-center\">\r\n              <FaPhoneAlt className=\"text-2xl p-4 text-[#846330]\" />\r\n              <p className=\"text-lg text-gray-700\">\r\n                Call Us <br />\r\n                <b className=\"font-medium\">+91 00000 00000</b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default About;","import React from 'react';\n\nfunction Spinner() {\n    return (\n        <div className=\"spinner flex justify-center items-center min-h-screen\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500\"></div>\n        </div>\n    );\n}\n\nexport default Spinner;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"bg-gray-800 text-white py-6\">\r\n      <div className=\"container mx-auto text-center\">\r\n        <p className=\"text-sm\">\r\n          &copy; {new Date().getFullYear()} Vehicle Rental. All rights reserved.\r\n        </p>\r\n        {/* <div className=\"flex justify-center space-x-4 mt-2\">\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Privacy Policy</a>\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Terms of Service</a>\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Contact Us</a>\r\n        </div> */}\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllCars } from \"../redux/actions/carsActions\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCar, faLocationDot, faCarSide, faCarRear, faBus, faCalendarDays, faBed } from '@fortawesome/free-solid-svg-icons';\nimport DefaultLayout from '../components/DefaultLayout';\nimport { Link } from 'react-router-dom';\nimport { DateRange } from 'react-date-range'; // Importing DateRange\nimport { format } from 'date-fns'; // Importing format\nimport About from '../components/About';\nimport Spinner from '../components/Spinner'; // Importing Spinner\nimport Footer from '../components/Footer';\nimport { useHistory } from 'react-router-dom'; // Add useHistory\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const history = useHistory(); // Add this\n  const { cars, loading } = useSelector(state => state.carsReducer);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredCars, setFilteredCars] = useState([]);\n  const [opendate, setOpendate] = useState(false);\n  const [date, setDate] = useState([{ startDate: new Date(), endDate: new Date(), key: 'selection' }]);\n  const [openOptions, setOpenOptions] = useState(false);\n  const [options, setOptions] = useState({ adult: 1, children: 0, rooms: 1 });\n\n  useEffect(() => {\n    dispatch(getAllCars());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (cars && cars.length > 0) {\n      setFilteredCars(cars);\n      console.log('Filtered cars:', cars); // Log the fetched cars\n    }\n  }, [cars]);\n\n  const handleSearch = (e) => {\n    const term = e.target.value.toLowerCase();\n    setSearchTerm(term);\n    \n    let filtered = cars;\n    \n    // Apply search term filter\n    if (term) {\n      filtered = filtered.filter(car => {\n        return (\n          car.category.toLowerCase().includes(term) ||\n          car.vehicles.some(vehicle => \n            vehicle.name.toLowerCase().includes(term) ||\n            vehicle.brand?.toLowerCase().includes(term)\n          )\n        );\n      });\n    }\n    \n    // Apply date filter\n    const fromDate = date[0].startDate;\n    const toDate = date[0].endDate;\n    \n    filtered = filtered.filter(car => {\n      return car.vehicles.some(vehicle => {\n        // Check if vehicle is available for selected dates\n        const isAvailable = !vehicle.bookedTimeSlots?.some(slot => {\n          const slotFrom = new Date(slot.from);\n          const slotTo = new Date(slot.to);\n          return (fromDate <= slotTo && toDate >= slotFrom);\n        });\n        return isAvailable;\n      });\n    });\n    \n    console.log('Filtering cars:', filtered);\n    setFilteredCars(filtered);\n  };\n\n  const handleOption = (type, operation) => {\n    setOptions(prev => {\n      return {\n        ...prev,\n        [type]: operation === 'i' ? prev[type] + 1 : prev[type] - 1,\n      };\n    });\n  };\n\n  const handleBooking = (carId) => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user) {\n      history.push('/login');\n      return;\n    }\n    // Pass selected dates as query parameters\n    history.push({\n      pathname: `/booking/${carId}`,\n      search: `?from=${format(date[0].startDate, 'yyyy-MM-dd')}&to=${format(date[0].endDate, 'yyyy-MM-dd')}`\n    });\n  };\n\n  return (\n        <DefaultLayout>\n            <div className=\"bg-blue-800 text-white flex justify-center relative\">\n                <div className=\"w-full max-w-7xl my-5 mb-24\">\n                    <div className=\"flex gap-10 mb-12\">\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCar} />\n                            <span>Sedan</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCarSide} />\n                            <span>SUV</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCarRear} />\n                            <span>Luxury</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faBus} />\n                            <span>MUV</span>\n                        </div>\n                    </div>\n                    <h1 className=\"text-8xl font-bold mb-2\">\n                        Book your Car now!\n                    </h1>\n                    <p className=\"my-5 tracking-loose kerning-wide\">  \n                        With a lot of Discounts and savings up to <span className='text-bold'>30%</span> and more..\n                    </p>\n                    <Link to=\"/login\">\n                        <button className=\"bg-blue-600 text-white font-medium border-none px-4 py-2 rounded cursor-pointer\">\n                            SignIn/Register\n                        </button>\n                    </Link>\n                    <div className=\"h-14 bg-white border-4 border-yellow-400 flex items-center justify-around py-2 rounded absolute -bottom-7 w-full max-w-7xl\">\n          <div className=\"flex items-center gap-2\">\n            <FontAwesomeIcon icon={faLocationDot} className=\"text-gray-500\" />\n            <input \n              type=\"text\" \n              value={searchTerm}\n              onChange={handleSearch}\n              className=\"border-none outline-none w-64 text-black\" \n              placeholder=\"Search Cars or Brands Eg.Tata\" \n            />\n          </div>\n                \n                        <div className=\"flex items-center gap-2 relative\">\n                            <FontAwesomeIcon icon={faCalendarDays} className=\"text-gray-500\" />\n                            <span \n                                onClick={() => setOpendate(!opendate)}\n                                className=\"text-gray-400 cursor-pointer\">\n                                {`${format(date[0].startDate, \"dd/MM/yyyy\")} to \n                                ${format(date[0].endDate, \"dd/MM/yyyy\")}`}\n                            </span>\n                            {opendate && (\n                                <div className=\"absolute top-12 z-10\">\n                                    <DateRange\n                                        editableDateInputs={true}\n                                        onChange={item => setDate([item.selection])}\n                                        moveRangeOnFirstSelection={false}\n                                        ranges={date}\n                                    />\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"flex items-center gap-2 relative\">\n                            <FontAwesomeIcon icon={faBed} className=\"text-gray-500\" />\n                            <span \n                                onClick={() => setOpenOptions(!openOptions)}\n                                className=\"text-gray-400 cursor-pointer\">\n                                {`${options.adult} Adults - ${options.children} Children - ${options.rooms} Cars`}\n                            </span>\n                            {openOptions && (\n                                <div className=\"absolute top-12 bg-white text-gray-600 rounded shadow-lg z-10\">\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Adults</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.adult <= 1}\n                                                onClick={() => handleOption(\"adult\", \"d\")}>-</button>\n                                            <span>{options.adult}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"adult\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Children</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.children <= 0}\n                                                onClick={() => handleOption(\"children\", \"d\")}>-</button>\n                                            <span>{options.children}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"children\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Cars</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.rooms <= 1}\n                                                onClick={() => handleOption(\"rooms\", \"d\")}>-</button>\n                                            <span>{options.rooms}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"rooms\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                        <button \n                          className=\"bg-blue-600 text-white font-medium px-4 py-2 cursor-pointer\"\n                          onClick={() => {\n                            console.log('Search button clicked');\n                            console.log('Current search term:', searchTerm);\n                            console.log('Selected dates:', date);\n                            // Trigger search with current filters\n                            handleSearch({ target: { value: searchTerm } });\n                            console.log('Filtered cars:', filteredCars);\n                          }}\n                        >\n                            Search\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {loading && <Spinner />}\n            \n<div className=\"flex justify-center px-4 py-8 mt-16\">\n  <div className=\"grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-6 w-full max-w-7xl\">\n  {filteredCars.slice(0, 3).map(car => (\n      <div key={car._id} className=\"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300\">        <img \n          src={car.vehicles[0].image} \n          alt={car.vehicles[0].name} \n          className=\"w-full h-48 object-cover rounded-t-lg\"\n        />\n        <div className=\"p-4\">\n          <div className=\"flex flex-col gap-2\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">{car.vehicles[0].name}</h3> \n              <p className=\"text-gray-600\">{car.vehicles[0].rentPerHour}/hour</p> \n            </div>\n            <div className=\"flex flex-col gap-1 text-sm text-gray-600\">\n              <p>Fuel Type: {car.vehicles[0].fuelType}</p> \n              <p>Capacity: {car.vehicles[0].capacity} persons</p> \n              <p>Transmission: {car.vehicles[0].transmission}</p> \n            </div>\n            <button \n          onClick={() => handleBooking(car._id)}\n          className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded transition-all\"\n        >\n          Book Now\n        </button>\n          </div>\n        </div>\n      </div>\n    ))}\n  </div>\n</div>\n      <About />\n      <Footer />\n    </DefaultLayout>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport { deleteCar, getAllCars } from \"../redux/actions/carsActions\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../components/Spinner\";\nimport { FaTrashAlt, FaEdit } from \"react-icons/fa\";\n\nfunction AdminHome() {\n  const user = JSON.parse(localStorage.getItem('user'));\n  console.log('AdminHome mounted, user:', user); \n  const { cars } = useSelector((state) => state.carsReducer);\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [totalCars, setTotalcars] = useState([]);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getAllCars());\n  }, [dispatch]);\n\n  useEffect(() => {\n    setTotalcars(cars);\n  }, [cars]);\n\n  const confirmDelete = (carId) => {\n    if (window.confirm(\"Are you sure to delete this car?\")) {\n      dispatch(deleteCar({ carid: carId }));\n    }\n  };\n\n  return (\n    <DefaultLayout>\n      <div className=\"flex justify-center mt-2\">\n        <div className=\"lg:w-5/6 sm:w-full\">\n          <div className=\"flex justify-between items-center\">\n            <h3 className=\"text-bold text-2xl \">Admin Panel</h3>\n            <div className=\"flex gap-4\">\n              <Link \n                to=\"/addcar\" \n                className=\"btn1 bg-blue-200 p-2 rounded-lg hover:bg-blue-300 transition-colors duration-200 inline-block\"\n              >\n                ADD CAR\n              </Link>\n              <Link \n                to=\"/admin/bookings\" \n                className=\"btn1 bg-green-200 p-2 rounded-lg hover:bg-green-300 transition-colors duration-200 inline-block\"\n              >\n                MANAGE BOOKINGS\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {loading && <Spinner />}\n\n      <div className=\"flex justify-between align-middle mt-10 \">\n        <div className=\"grid lg:grid-cols-5 sm:grid-cols-1 gap-4 \">\n        {totalCars.map((car) => (\n  <div key={car._id} className=\"car p-2 bs1\">\n    {car.vehicles && car.vehicles[0] && (\n      <>\n        <img \n          src={car.vehicles[0].image} \n          className=\"carimg rounded-lg h-40 w-80\" \n          alt={car.vehicles[0].name} \n        />\n\n        <div className=\"car-content flex justify-between items-center mt-2 \">\n          <div className=\"text-left pl-2\">\n            <p>{car.vehicles[0].name}</p>\n            <p>Rent Per Hour {car.vehicles[0].rentPerHour} /-</p>\n            <p className=\"text-sm text-gray-600\">Category: {car.category}</p>\n          </div>\n\n          <div className=\"mr-4 flex items-center translate-x-5\">\n            <Link to={`/editcar/${car._id}`}>\n              <FaEdit className=\"mr-3 text-green-500 cursor-pointer\" />\n            </Link>\n\n            <FaTrashAlt\n              className=\"text-red-500 cursor-pointer\"\n              onClick={() => confirmDelete(car._id)}\n            />\n          </div>\n        </div>\n      </>\n    )}\n  </div>\n))}\n        </div>\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default AdminHome;","import React, { useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { Table, Button, Modal } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst AdminBookings = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [selectedBooking, setSelectedBooking] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchBookings();\r\n  }, []);\r\n\r\n  const fetchBookings = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get('/api/bookings/getallbookings');\r\n      setBookings(response.data);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch bookings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (bookingId) => {\r\n    try {\r\n      await axios.delete(`/api/bookings/${bookingId}`);\r\n      toast.success('Booking deleted successfully');\r\n      fetchBookings();\r\n    } catch (error) {\r\n      toast.error('Failed to delete booking');\r\n    }\r\n  };\r\n\r\n  const showDeleteModal = (booking) => {\r\n    setSelectedBooking(booking);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'User',\r\n      dataIndex: ['user', 'username'],\r\n      key: 'user'\r\n    },\r\n    {\r\n      title: 'Car',\r\n      dataIndex: ['car', 'name'],\r\n      key: 'car'\r\n    },\r\n    {\r\n      title: 'From',\r\n      dataIndex: 'from',\r\n      key: 'from',\r\n      render: (text) => moment(text).format('LLL')\r\n    },\r\n    {\r\n      title: 'To',\r\n      dataIndex: 'to',\r\n      key: 'to',\r\n      render: (text) => moment(text).format('LLL')\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      render: (_, record) => (\r\n        <Button danger onClick={() => showDeleteModal(record)}>\r\n          Delete\r\n        </Button>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h1 className='m-4 text-3xl '>Manage Bookings</h1>\r\n      <Table \r\n        dataSource={bookings}\r\n        columns={columns}\r\n        loading={loading}\r\n        rowKey=\"_id\"\r\n      />\r\n\r\n      <Modal\r\n        title=\"Confirm Delete\"\r\n        open={isModalVisible}\r\n        onOk={() => {\r\n          handleDelete(selectedBooking._id);\r\n          setIsModalVisible(false);\r\n        }}\r\n        onCancel={() => setIsModalVisible(false)}\r\n      >\r\n        <p>Are you sure you want to delete this booking?</p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminBookings;\r\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://mern-project2-backend-2.onrender.com';\n\nexport const userLogin = (values) => async dispatch => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    const loginData = {\n      username: values.username,\n      email: values.username.includes('@') ? values.username : null,\n      password: values.password\n    };\n    \n    const response = await axios.post('/api/users/login', loginData);\n    const user = response.data;\n    \n    // Save user to localStorage\n    localStorage.setItem('user', JSON.stringify(user));\n    \n    dispatch({ type: 'LOADING', payload: false });\n    \n    // Redirect admin to admin dashboard\n    if (user.isAdmin) {\n      window.location.href = '/admin';\n    }\n    \n    return user;\n  } catch (error) {\n    dispatch({ type: 'LOADING', payload: false });\n    toast.error(error.response?.data?.message || 'Login failed');\n    throw error;\n  }\n};\n\nexport const userRegister = (values) => async dispatch => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n      const response = await axios.post('${baseURL}/api/users/register', values);\n      dispatch({ type: 'LOADING', payload: false });\n      toast.success('Registration successful! Please login.');\n      return response.data;\n  } catch (error) {\n      console.error('Registration error:', error);\n      dispatch({ type: 'LOADING', payload: false });\n      toast.error(error.response?.data?.message || 'Registration failed');\n      throw error;\n  }\n};","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { userLogin } from '../redux/actions/userActions'\nimport { toast } from 'react-toastify'\nimport AOS from 'aos'\nimport Spinner from '../components/Spinner'\nimport 'aos/dist/aos.css'\nimport 'react-toastify/dist/ReactToastify.css'\n\nAOS.init()\n\nfunction Login({ setUser }) {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const { loading } = useSelector(state => state.alertsReducer);\n\n    async function onFinish(event) {\n        event.preventDefault();\n        try {\n            const formData = new FormData(event.target);\n            const values = Object.fromEntries(formData.entries());\n            \n            // Check for admin credentials\n            if (values.username === 'admin' && values.password === 'admin123') {\n            const response = await dispatch(userLogin(values));\n            console.log('Admin login response:', response); // Debug log\n            if (response && response.isAdmin) {\n                setUser(response);\n                toast.success('Welcome Admin!');\n                history.push('/admin');\n            }\n            } else {\n                const response = await dispatch(userLogin(values));\n                console.log('User login response:', response); // Debug log\n                if (response) {\n                    setUser(response);\n                    toast.success('Login successful!');\n                    history.push('/');\n                }\n            }\n        } catch (error) {\n            console.error('Login failed:', error);\n            toast.error(error.response?.data?.message || 'Invalid credentials');\n        }\n    }\n    \n    return (\n        <div className='login'>\n            {loading && (<Spinner />)}\n            <div className=\"justify-center items-center min-h-screen\">\n                <div className=\"lg:w-2/3 w-full relative\">\n                    {/* <img\n                        className='w-full'\n                        data-aos='slide-right'\n                        data-aos-duration='1500'\n                        alt=\"Car rental login\"\n                        src=\"https://images.unsplash.com/photo-1532268116505-8c59cc37d2e6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=864&q=80\"\n                    /> */}\n                </div>\n                <div className=\"justify-center items-center\">\n                    <form className='bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4' onSubmit={onFinish}>\n                        <h1 className='text-2xl font-bold mb-4'>Carzz</h1>\n                        <h1 className='text-xl mb-4'>Login</h1>\n                        <hr className='mb-4' />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\n                                Username or Email\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\"\n                                name=\"username\"\n                                type=\"text\"\n                                placeholder=\"Enter username or email\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n                                Password\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\"\n                                name=\"password\"\n                                type=\"password\"\n                                required\n                            />\n                        </div>\n                        <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2' type=\"submit\">\n                            Login\n                        </button>\n                        <hr className='my-4' />\n                        <Link to='/register' className='text-blue-500 hover:text-blue-700'>\n                            Click Here to Register\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;","export const GET_ALL_BOOKINGS = 'GET_ALL_BOOKINGS';\r\nexport const SET_LOADING = 'LOADING';","import axios from 'axios';\nimport { GET_ALL_BOOKINGS, SET_LOADING } from '../types';\n\nexport const getAllBookings = () => async (dispatch) => {\n  dispatch({ type: SET_LOADING, payload: true });\n\n  try {\n    const response = await axios.get('/api/bookings/getallbookings');\n    // Ensure response data is an array\n    const bookingsData = Array.isArray(response.data) ? response.data : [];\n    dispatch({ type: GET_ALL_BOOKINGS, payload: bookingsData });\n    dispatch({ type: SET_LOADING, payload: false });\n  } catch (error) {\n    console.error('Error fetching bookings:', error);\n    dispatch({ type: SET_LOADING, payload: false });\n  }\n};\n\nexport const bookCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: SET_LOADING, payload: true });\n\n  try {\n    const response = await axios.post('/api/bookings/bookcar', reqObj);\n    dispatch({ type: SET_LOADING, payload: false });\n    return response.data;\n  } catch (error) {\n    console.error('Error booking car:', error);\n    dispatch({ type: SET_LOADING, payload: false });\n    throw error;\n  }\n};","import React, { useEffect, useState } from \"react\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllBookings } from \"../redux/actions/bookingActions\";\nimport Spinner from '../components/Spinner';\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nfunction UserBookings() {\n  const dispatch = useDispatch();\n  const { bookings } = useSelector((state) => state.bookingsReducer);\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [userBookings, setUserBookings] = useState([]);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  useEffect(() => {\n    // Fetch bookings only if we don't have them\n    if (!bookings?.length) {\n      dispatch(getAllBookings());\n    }\n  }, [dispatch, bookings?.length]);\n\n  useEffect(() => {\n    // Filter bookings for the current user only when bookings or user changes\n    if (bookings && user) {\n      console.log(\"All bookings:\", bookings);\n      console.log(\"Current user ID:\", user._id);\n      const filteredBookings = bookings.filter(booking => {\n        console.log(\"Booking user ID:\", booking.user);\n        return booking.user._id === user._id;\n      });\n      console.log(\"Filtered bookings:\", filteredBookings);\n      // Only update state if the filtered bookings have changed\n      if (JSON.stringify(filteredBookings) !== JSON.stringify(userBookings)) {\n        setUserBookings(filteredBookings);\n      }\n    }\n  }, [bookings, user, userBookings]);\n\n  return (\n    <DefaultLayout>\n      {loading && (<Spinner />)}\n      <div className=\"container mx-auto px-4 py-8\">\n        <h3 className=\"text-2xl font-bold text-center mb-8\">My Bookings</h3>\n\n        {(!userBookings || userBookings.length === 0) ? (\n          <div className=\"text-center\">\n            <div className=\"text-gray-600 mb-4\">\n              No bookings found. Start booking cars now!\n            </div>\n            <Link \n              to=\"/\" \n              className=\"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700\"\n            >\n              Browse Cars\n            </Link>\n          </div>\n        ) : (\n          <div className=\"max-w-4xl mx-auto\">\n            {userBookings.map((booking) => (\n              <div key={booking._id} className=\"bg-white shadow-lg rounded-lg mb-6 overflow-hidden\">\n                <div className=\"p-6\">\n                  <div className=\"grid md:grid-cols-3 gap-6\">\n                    {/* Car Details */}\n                    <div>\n                      <h4 className=\"font-bold text-lg mb-2\">{booking.car?.vehicles?.[0]?.name || 'Car'}</h4>\n                      <img \n                        src={booking.car?.vehicles?.[0]?.image} \n                        alt={booking.car?.vehicles?.[0]?.name || 'Car'}\n                        className=\"w-full h-40 object-cover rounded-lg\"\n                      />\n                    </div>\n\n                    {/* Booking Details */}\n                    <div className=\"space-y-2\">\n                      <div className=\"text-gray-600\">\n                        <p>From: {moment(booking.bookedTimeSlots?.from).format('MMM DD YYYY, HH:mm')}</p>\n                        <p>To: {moment(booking.bookedTimeSlots?.to).format('MMM DD YYYY, HH:mm')}</p>\n                        <p>Total Hours: {booking.totalHours}</p>\n                      </div>\n                    </div>\n\n                    {/* Payment Details */}\n                    <div className=\"space-y-2\">\n                      <p className=\"font-semibold\">{booking.totalAmount}</p>\n                      <p className=\"text-sm text-gray-500\">Transaction ID:</p>\n                      <p className=\"text-xs font-mono\">{booking.transactionId}</p>\n                      {booking.driverRequired && (\n                        <p className=\"text-sm text-blue-600\">Driver Included</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default UserBookings;","\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport DefaultLayout from \"../components/DefaultLayout\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { getAllCars } from \"../redux/actions/carsActions\";\r\nimport moment from \"moment\";\r\nimport { bookCar } from \"../redux/actions/bookingActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\nconst PaymentForm = ({ totalAmount, car, driver, from, to, totalHours, dispatch, history, setPaymentProcessing }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setPaymentProcessing(true);\r\n    \r\n    try {\r\n      const response = await fetch(\"/api/payments/create-payment-intent\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          amount: totalAmount * 100,\r\n        }),\r\n      });\r\n\r\n      const { clientSecret } = await response.json();\r\n\r\n      // For dummy payments, just proceed with success\r\n      if (clientSecret.includes('dummy')) {\r\n        // Simulate successful payment\r\n        const result = {\r\n          paymentIntent: {\r\n            status: \"succeeded\",\r\n            id: `pi_dummy_${Date.now()}`\r\n          }\r\n        };\r\n        \r\n        const reqObj = {\r\n          user: JSON.parse(localStorage.getItem(\"user\"))._id,\r\n          car: car._id,\r\n          totalHours,\r\n          totalAmount,\r\n          driverRequired: driver,\r\n          bookedTimeSlots: {\r\n            from,\r\n            to,\r\n          },\r\n          transactionId: result.paymentIntent.id,\r\n        };\r\n        \r\n        const bookingResponse = await dispatch(bookCar(reqObj));\r\n        if (bookingResponse) {\r\n          history.push('/userbookings');\r\n        }\r\n      } else {\r\n        const result = await stripe.confirmCardPayment(clientSecret, {\r\n          payment_method: {\r\n            card: elements.getElement(CardElement),\r\n            billing_details: {\r\n              name: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            },\r\n          },\r\n        });\r\n\r\n        if (result.error) {\r\n          alert(result.error.message);\r\n          setPaymentProcessing(false);\r\n        } else if (result.paymentIntent.status === \"succeeded\") {\r\n          const reqObj = {\r\n            user: JSON.parse(localStorage.getItem(\"user\"))._id,\r\n            car: car._id,\r\n            totalHours,\r\n            totalAmount,\r\n            driverRequired: driver,\r\n            bookedTimeSlots: {\r\n              from,\r\n              to,\r\n            },\r\n            transactionId: result.paymentIntent.id,\r\n          };\r\n          const bookingResponse = await dispatch(bookCar(reqObj));\r\n          if (bookingResponse) {\r\n            history.push('/userbookings');\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Payment failed. Please try again.\");\r\n      setPaymentProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {!process.env.REACT_APP_STRIPE_PUBLIC_KEY && (\r\n        <div className=\"mb-4 p-3 bg-gray-100 rounded\">\r\n          <p className=\"text-gray-600\">Payment processing in dummy mode</p>\r\n        </div>\r\n      )}\r\n      {process.env.REACT_APP_STRIPE_PUBLIC_KEY && (\r\n        <div className=\"mb-4\">\r\n          <CardElement \r\n            options={{\r\n              style: {\r\n                base: {\r\n                  fontSize: '16px',\r\n                  color: '#424770',\r\n                  '::placeholder': {\r\n                    color: '#aab7c4',\r\n                  },\r\n                },\r\n                invalid: {\r\n                  color: '#9e2146',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      <button \r\n        type=\"submit\" \r\n        className=\"btn1 bg-blue-500 p-2 mt-4 w-full\"\r\n        disabled={process.env.REACT_APP_STRIPE_PUBLIC_KEY ? !stripe : false}\r\n      >\r\n        Pay Now\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nfunction BookingCar({ match }) {\r\n  const { cars } = useSelector((state) => state.carsReducer);\r\n  const { loading } = useSelector((state) => state.alertsReducer);\r\n  const [car, setcar] = useState({});\r\n  const dispatch = useDispatch();\r\n  const history = useHistory(); // Using useHistory\r\n  const [from, setFrom] = useState();\r\n  const [to, setTo] = useState();\r\n  const [totalHours, setTotalHours] = useState(0);\r\n  const [driver, setdriver] = useState(false);\r\n  const [totalAmount, setTotalAmount] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [bookedTimeSlots, setBookedTimeSlots] = useState([]);\r\n  const [loadingSlots, setLoadingSlots] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (showModal && car._id) {\r\n      const fetchBookedTimeSlots = async () => {\r\n        setLoadingSlots(true);\r\n        try {\r\n          const response = await axios.get(`/api/booked-time-slots/64b1f76046b12a28c2950584`);\r\n          console.log('Booked time slots response:', response.data);\r\n          setBookedTimeSlots(response.data);\r\n        } catch (error) {\r\n          console.error('Error fetching booked time slots:', error);\r\n          toast.error('Failed to load booked time slots');\r\n        } finally {\r\n          setLoadingSlots(false);\r\n        }\r\n      };\r\n      fetchBookedTimeSlots();\r\n    }\r\n  }, [showModal, car._id]);\r\n  const [, setPaymentProcessing] = useState(false);\r\n\r\nconsole.log(\"Match Object:\", match); // Log the entire match object\r\nconsole.log(\"Car ID from params:\", match.params.carid); // Log the car ID from params\r\nconsole.log(\"Cars from Redux state:\", cars); // Log the cars from Redux state\r\n\r\n  useEffect(() => {\r\n    if (cars.length === 0) {\r\n      dispatch(getAllCars());\r\n    } else {\r\n      console.log(\"Searching for car with ID:\", match.params.carid);\r\n      const foundCar = cars.find((o) => o._id === match.params.carid);\r\n      if (foundCar) {\r\n        console.log(\"Found car:\", foundCar);\r\n        setcar(foundCar);\r\n      } else {\r\n        console.error(\"Car not found for ID:\", match.params.carid);\r\n        console.log(\"Available cars:\", cars);\r\n      }\r\n    }\r\n  }, [cars, dispatch, match.params.carid]);\r\n\r\n  useEffect(() => {\r\n    const baseAmount = totalHours * (car.vehicles?.[0]?.rentPerHour || 0); // Accessing rentPerHour from vehicles array\r\n    setTotalAmount(driver ? baseAmount + (30 * totalHours) : baseAmount);\r\n  }, [driver, totalHours, car.vehicles]);\r\n\r\n  function selectTimeSlots(values) {\r\n    setFrom(moment(values[0]).format(\"MMM DD yyyy HH:mm\"));\r\n    setTo(moment(values[1]).format(\"MMM DD yyyy HH:mm\"));\r\n\r\n    setTotalHours(values[1].diff(values[0], \"hours\"));\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      {loading && <Spinner />}\r\n      <div className=\"flex justify-center items-center\" style={{ minHeight: \"90vh\" }}>\r\n        <div className=\"lg:w-1/2 sm:w-full p-3\">\r\n          {car.vehicles && car.vehicles[0]?.image && <img src={car.vehicles[0].image} className=\"carimg2 bs1 w-full\" alt={car.vehicles[0].name || 'Car'} />}\r\n        </div>\r\n\r\n        <div className=\"lg:w-1/2 sm:w-full text-right p-3\">\r\n          <div className=\"border-b border-gray-300 mb-4\">\r\n            <h3 className=\"text-xl\">Car Info</h3>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <p>{(car.vehicles && car.vehicles[0]?.name) || 'Car not found'}</p>\r\n            <p>{(car.vehicles && car.vehicles[0]?.rentPerHour) || 'N/A'} Rent Per hour /-</p>\r\n            <p>Fuel Type : {(car.vehicles && car.vehicles[0]?.fuelType) || 'N/A'}</p>\r\n            <p>Max Persons : {(car.vehicles && car.vehicles[0]?.capacity) || 'N/A'}</p>\r\n          </div>\r\n\r\n          <div className=\"border-b border-gray-300 my-4\">\r\n            <h3 className=\"text-xl\">Select Time Slots</h3>\r\n          </div>\r\n          <input\r\n            type=\"datetime-local\"\r\n            className=\"block w-full mb-2 p-2 border rounded\"\r\n            onChange={(e) => selectTimeSlots([moment(e.target.value), moment(to)])}\r\n          />\r\n          <input\r\n            type=\"datetime-local\"\r\n            className=\"block w-full mb-2 p-2 border rounded\"\r\n            onChange={(e) => selectTimeSlots([moment(from), moment(e.target.value)])}\r\n          />\r\n          <button\r\n            className=\"btn1 mt-2 underline \"\r\n            onClick={() => {\r\n              setShowModal(true);\r\n            }}\r\n          >\r\n            See Booked Slots\r\n          </button>\r\n          {from && to && (\r\n            <div>\r\n              <p>\r\n                Total Hours : <b>{totalHours}</b>\r\n              </p>\r\n              <p>\r\n                Rent Per Hour : <b>{(car.vehicles && car.vehicles[0]?.rentPerHour)}</b>\r\n              </p>\r\n              <label className=\"inline-flex items-center mt-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-checkbox h-5 w-5 text-gray-600\"\r\n                  onChange={(e) => setdriver(e.target.checked)}\r\n                />\r\n                <span className=\"ml-2 text-gray-700\">Driver Required</span>\r\n              </label>\r\n\r\n              <h3>Total Amount : {totalAmount}</h3>\r\n              <Elements stripe={stripePromise}>\r\n                <PaymentForm \r\n                  totalAmount={totalAmount}\r\n                  car={car}\r\n                  driver={driver}\r\n                  from={from}\r\n                  to={to}\r\n                  totalHours={totalHours}\r\n                  dispatch={dispatch}\r\n                  history={history}\r\n                  setPaymentProcessing={setPaymentProcessing}\r\n                />\r\n              </Elements>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {car.vehicles && car.vehicles[0]?.name && (\r\n          <div className={`modal ${showModal ? 'block' : 'hidden'}`}>\r\n            <div className=\"modal-content p-2 shadow-lg rounded-lg\">\r\n              <h3 className=\"text-xl mb-4\">Booked time slots</h3>\r\n              {bookedTimeSlots.length > 0 ? (\r\n                bookedTimeSlots.map((slot) => {\r\n                  const fromTime = new Date(slot.from).toLocaleTimeString();\r\n                  const toTime = new Date(slot.to).toLocaleTimeString();\r\n                  console.log('Rendering slot:', slot._id, fromTime, toTime);\r\n                  return (\r\n                    <button key={slot._id} className=\"btn1 mt-2\">\r\n                      {fromTime} - {toTime}\r\n                    </button>\r\n                  );\r\n                })\r\n              ) : (\r\n                <p>No booked time slots available</p>\r\n              )}\r\n              <div className=\"text-center text-white mt-5 bg-red-500 p-2 rounded hover:bg-red-600 cursor-pointer\">\r\n                <button\r\n                  className=\"btn1\"\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                  }}\r\n                >\r\n                  CLOSE\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DefaultLayout>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\n// Initialize Stripe only if we're not in dummy mode\r\nconst stripePromise = process.env.REACT_APP_STRIPE_PUBLIC_KEY ? \r\n  loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY) : \r\n  Promise.resolve(null);\r\n\r\nexport default BookingCar;\r\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport DefaultLayout from '../components/DefaultLayout'\nimport Spinner from '../components/Spinner'\nimport { addCar } from '../redux/actions/carsActions'\n\nfunction AddCar() {\n    const dispatch = useDispatch()\n    const { loading } = useSelector(state => state.alertsReducer)\n\n    function onFinish(event) {\n        event.preventDefault();\n        const formData = new FormData(event.target);\n        const values = Object.fromEntries(formData.entries());\n        values.bookedTimeSlots = [];\n\n        dispatch(addCar(values))\n        console.log(values)\n    }\n\n    return (\n        <DefaultLayout>\n            {loading && (<Spinner />)}\n            <div className=\"flex justify-center mt-5\">\n                <div className=\"lg:w-1/2 sm:w-full p-2\">\n                    <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\" onSubmit={onFinish}>\n                        <h3 className=\"text-xl mb-4\">Add New Car</h3>\n                        <hr className=\"mb-4\" />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"transmission\">\n                                Transmission\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"transmission\"\n                                name=\"transmission\"\n                                type=\"text\"\n                                required\n                            />\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"name\">\n                                Car name\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"name\"\n                                name=\"name\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"image\">\n                                Image url\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"image\"\n                                name=\"image\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"rentPerHour\">\n                                Rent per hour\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"rentPerHour\"\n                                name=\"rentPerHour\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"capacity\">\n                                Capacity\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"capacity\"\n                                name=\"capacity\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"fuelType\">\n                                Fuel Type\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"fuelType\"\n                                name=\"fuelType\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"text-right\">\n                            <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n                                ADD CAR\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </DefaultLayout>\n    )\n}\n\nexport default AddCar\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport Spinner from \"../components/Spinner\";\nimport { editCar, getAllCars } from \"../redux/actions/carsActions\";\n\nfunction EditCar({ match }) {\n  const { cars } = useSelector((state) => state.carsReducer);\n  const dispatch = useDispatch();\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [car, setcar] = useState();\n  const [totalcars, settotalcars] = useState([]);\n\n  useEffect(() => {\n    if (cars.length === 0) {\n      dispatch(getAllCars());\n    } else {\n      settotalcars(cars);\n      setcar(cars.find((o) => o._id === match.params.carid));\n    }\n  }, [cars, dispatch, match.params.carid]);\n\n  function onFinish(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const values = Object.fromEntries(formData.entries());\n    values._id = car._id;\n\n    // Create the updated vehicle data structure\n    const updatedCar = {\n      _id: car._id,\n      category: values.category,\n      vehicles: [{\n        name: values.name,\n        image: values.image,\n        rentPerHour: values.rentPerHour,\n        capacity: values.capacity,\n        fuelType: values.fuelType,\n      }]\n    };\n\n    dispatch(editCar(updatedCar));\n  }\n\n  return (\n    <DefaultLayout>\n      {loading && <Spinner />}\n      <div className=\"flex justify-center mt-5\">\n        <div className=\"lg:w-1/2 sm:w-full p-2\">\n          {totalcars.length > 0 && car && car.vehicles && car.vehicles[0] && (\n            <form\n              className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n              onSubmit={onFinish}\n            >\n              <h3 className=\"text-xl mb-4\">Edit Car</h3>\n              <hr className=\"mb-4\" />\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"category\">\n                  Category\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"category\"\n                  name=\"category\"\n                  type=\"text\"\n                  defaultValue={car.category}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"name\">\n                  Car name\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].name}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"image\">\n                  Image url\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"image\"\n                  name=\"image\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].image}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"rentPerHour\">\n                  Rent per hour\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"rentPerHour\"\n                  name=\"rentPerHour\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].rentPerHour}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"capacity\">\n                  Capacity\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"capacity\"\n                  name=\"capacity\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].capacity}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"fuelType\">\n                  Fuel Type\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"fuelType\"\n                  name=\"fuelType\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].fuelType}\n                  required\n                />\n              </div>\n              <div className=\"text-right\">\n                <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n                  Edit CAR\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default EditCar;","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userRegister } from '../redux/actions/userActions';\nimport Spinner from '../components/Spinner';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Register() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const { loading } = useSelector(state => state.alertsReducer);\n\n    async function onFinish(event) {\n        event.preventDefault();\n        try {\n            const formData = new FormData(event.target);\n            const values = Object.fromEntries(formData.entries());\n            \n            await dispatch(userRegister(values));\n            history.push('/login');\n        } catch (error) {\n            console.error('Registration failed:', error);\n        }\n    }\n\n    return (\n        <div className='register'>\n            {loading && (<Spinner />)}\n            <div className=\"justify-center items-center min-h-screen\">\n                <div className=\"justify-center items-center\">\n                    <form className='bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4' onSubmit={onFinish}>\n                        <h1 className='text-2xl font-bold mb-4'>Carzz</h1>\n                        <h1 className='text-xl mb-4'>Register</h1>\n                        <hr className='mb-4' />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\n                                Username\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\"\n                                name=\"username\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"email\">\n                                Email\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"email\"\n                                name=\"email\"\n                                type=\"email\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n                                Password\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\"\n                                name=\"password\"\n                                type=\"password\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"cpassword\">\n                Confirm Password\n              </label>\n              <input\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"cpassword\"\n                name=\"cpassword\"\n                type=\"password\"\n                required\n              />\n            </div>\n                        <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2' type=\"submit\">\n                            Register\n                        </button>\n                        <hr className='my-4' />\n                        <Link to='/login' className='text-blue-500 hover:text-blue-700'>\n                            Already have an account? Login\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Home from './pages/Home';\nimport AdminHome from './pages/AdminHome';\nimport AdminBookings from './pages/AdminBookings';\nimport Login from './pages/Login';\nimport UserBookings from './pages/UserBookings';\nimport BookingCar from './pages/BookingCar';\nimport AddCar from './pages/AddCar';\nimport EditCar from './pages/EditCar';\nimport Register from './pages/Register';\n\nfunction App() {\n  const [user, setUser] = React.useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('user')) || null;\n    } catch (error) {\n      console.error('Error parsing user from localStorage:', error);\n      return null;\n    }\n  });\n\n  // Protected Route Component\n  const ProtectedRoute = ({ component: Component, isAdmin, ...rest }) => {\n    if (!user) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <Route\n        {...rest}\n        render={props => {\n          if (isAdmin && !user.isAdmin) {\n            return <Redirect to=\"/\" />;\n          }\n          if (!isAdmin && user.isAdmin) {\n            return <Redirect to=\"/admin\" />;\n          }\n          return <Component {...props} />;\n        }}\n      />\n    );\n  };\n\n  return (\n    <Router>\n      <Switch>\n        {/* Public Routes */}\n        <Route \n          exact \n          path=\"/login\" \n          render={() => (user ? <Redirect to={user.isAdmin ? \"/admin\" : \"/\"} /> : <Login setUser={setUser} />)}\n        />\n        <Route \n          exact \n          path=\"/register\" \n          render={() => (user ? <Redirect to={user.isAdmin ? \"/admin\" : \"/\"} /> : <Register />)}\n        />\n\n        {/* Admin Routes */}\n        <ProtectedRoute exact path=\"/admin\" component={AdminHome} isAdmin={true} />\n        <ProtectedRoute exact path=\"/admin/bookings\" component={AdminBookings} isAdmin={true} />\n        <ProtectedRoute exact path=\"/addcar\" component={AddCar} isAdmin={true} />\n        <ProtectedRoute exact path=\"/editcar/:carid\" component={EditCar} isAdmin={true} />\n\n        {/* User Routes */}\n        <ProtectedRoute exact path=\"/\" component={Home} isAdmin={false} />\n        <ProtectedRoute exact path=\"/userbookings\" component={UserBookings} isAdmin={false} />\n        <ProtectedRoute exact path=\"/booking/:carid\" component={BookingCar} isAdmin={false} />\n\n        {/* Fallback Route */}\n        <Route path=\"*\">\n          <Redirect to={user?.isAdmin ? \"/admin\" : \"/\"} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\n    cars: [],\n    loading: false,\n    error: null\n};\n\nexport const carsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'GET_ALL_CARS':\n            return {\n                ...state,\n                cars: action.payload\n            };\n        case 'LOADING':\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case 'ERROR':\n            return {\n                ...state,\n                error: action.payload\n            };\n        default:\n            return state;\n    }\n};","const initialState = {\n    loading: false\n};\n\nexport const alertsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'LOADING':\n            return {\n                ...state,\n                loading: action.payload\n            };\n        default:\n            return state;\n    }\n};","import { GET_ALL_BOOKINGS } from '../types';\n\nconst initialState = {\n  bookings: []\n};\n\nconst bookingsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_BOOKINGS:\n      return {\n        ...state,\n        bookings: Array.isArray(action.payload) ? action.payload : []\n      };\n    default:\n      return state;\n  }\n};\n\nexport default bookingsReducer;","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { carsReducer } from './reducers/carsReducer';\nimport { alertsReducer } from './reducers/alertsReducer';\nimport bookingsReducer from './reducers/bookingsReducer';\n\nconst rootReducer = combineReducers({\n  carsReducer,\n  alertsReducer,\n  bookingsReducer\n});\n\nconst composeEnhancers = composeWithDevTools({\n  trace: true,\n  traceLimit: 25\n});\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\"; \nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/store';\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}